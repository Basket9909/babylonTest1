/// <reference path='babylon.module.d.ts' /> 

// cibler le canvas
const canvas = document.getElementById('renderCanvas')

//creer un enin babylon
const engine = new BABYLON.Engine(canvas, true)

function createScene() {
    //creer une scene
    //const scene = new BABYLON.Scene(engine)

    //creer une camera
    //const camera = new BABYLON.FreeCamera('camera', new BABYLON.Vector3(0 ,0 , -5), scene)
    //camera.attachControl(canvas, true)

    //creer une lumiere 
    //const light = new BABYLON.HemisphericLight('light', new BABYLON.Vector3(0 , 1 ,0), scene)

    //creer une box
    //const box = BABYLON.MeshBuilder.CreateBox('box', {
    //    size: 1
    //}, scene)
    //box.rotation.x = 2
    //box.rotation.y = 3

    //creer une sphere 
    //const sphere = BABYLON.MeshBuilder.CreateSphere('sphere', {
    //    segments: 32,
    //    diameter: 1
    //}, scene)
    //sphere.position = new BABYLON.Vector3(3, 0, 0)
    //sphere.scaling = new BABYLON.Vector3(0.2, 0.5, 1)

    //creer un plat
    //const plane = BABYLON.MeshBuilder.CreatePlane('plane',{},scene)
    //plane.position = new BABYLON.Vector3(-3, 0, 0)

    //creer une ligne 
    //const points = [
    //    new BABYLON.Vector3(2, 0, 0),
    //    new BABYLON.Vector3(2, 1, 1),
    //    new BABYLON.Vector3(2, 1, 0)
    //]

    //const lines = BABYLON.MeshBuilder.CreateLines('lines',{
    //    points
    //},scene)

    

    const scene = new BABYLON.Scene(engine);

    const camera = new BABYLON.ArcRotateCamera("camera", -Math.PI / 2, Math.PI / 2.5, 5, new BABYLON.Vector3(0, 0, 0));
    camera.attachControl(canvas, true);

    const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0));

    const box = BABYLON.MeshBuilder.CreateBox("box", {});
    const sphere = BABYLON.MeshBuilder.CreateSphere("sphere", {});
    sphere.position = new BABYLON.Vector3(1, 0, 0)
    const sphere2 = BABYLON.MeshBuilder.CreateSphere("sphere", {});
    sphere2.position = new BABYLON.Vector3(-1, 0, 0)
    const sphere3 = BABYLON.MeshBuilder.CreateSphere("sphere", {});
    sphere3.position = new BABYLON.Vector3(0, 1, 0)
    const sphere4 = BABYLON.MeshBuilder.CreateSphere("sphere", {});
    sphere4.position = new BABYLON.Vector3(0, -1, 0)

    //creer des materiaux
    //const material = new BABYLON.StandardMaterial('material', scene)
    //material.diffuseColor = new BABYLON.Color3(1,0,0)
    //material.emissiveColor = new BABYLON.Color3(0,1,0)
    //box.material = material

    const material2 = new BABYLON.StandardMaterial('material2', scene)
   material2.diffuseTexture = new BABYLON.Texture('../assets/images/bois.jpg', scene)
    box.material = material2

    return scene
}

//creer notre scene 
const scene = createScene()

engine.runRenderLoop(()=>{
    scene.render()
})